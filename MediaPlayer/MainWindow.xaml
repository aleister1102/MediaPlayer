<Window
    x:Class="MediaPlayer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:MediaPlayer"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="{Binding Path=WindowTitle}"
    Width="1000"
    Height="920"
    Loaded="Window_Loaded"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <Window.Resources>
        <local:TimeSpanToTextConverter x:Key="TimeSpanToTextConverter" />
        <local:TimeSpanToSecondsConverter x:Key="TimeSpanToSecondsConverter" />
    </Window.Resources>

    <DockPanel>
        <!--  Controls  -->
        <StackPanel
            Name="Controls"
            Width="1000"
            Height="100"
            DockPanel.Dock="Bottom">

            <!--  Slider  -->
            <StackPanel>
                <StackPanel Style="{StaticResource SliderPanel}">
                    <TextBlock
                        Name="TimeElapsed"
                        d:Text="0:00:01"
                        FontSize="14"
                        Text="{Binding Path=TimeElapsed, Converter={StaticResource TimeSpanToTextConverter}}" />

                    <Slider
                        Name="ProgressSlider"
                        Width="800"
                        Margin="30,0"
                        Thumb.DragCompleted="ProgressSlider_DragCompleted"
                        Value="{Binding Path=TimeElapsed, Converter={StaticResource TimeSpanToSecondsConverter}}" />

                    <TextBlock
                        Name="TimeRemaining"
                        d:Text="1:00:00"
                        FontSize="14"
                        Text="{Binding Path=TimeRemaining, Converter={StaticResource TimeSpanToTextConverter}}" />
                </StackPanel>
            </StackPanel>

            <!--  Buttons  -->
            <StackPanel
                Name="ControlButtons"
                HorizontalAlignment="Center"
                Orientation="Horizontal">

                <Button
                    Name="PlayButton"
                    Click="PlayButton_Click"
                    Style="{StaticResource ControlButton}">
                    <Image Name="PlayButtonImage" Source="{Binding Path=PlayButtonImage}" />
                </Button>

                <Button
                    Name="StopButton"
                    Click="StopButton_Click"
                    Style="{StaticResource ControlButton}">
                    <Image Source="images/stop.png" />
                </Button>

                <Button
                    Name="ResetButton"
                    Click="ResetButton_Click"
                    Style="{StaticResource ControlButton}">
                    <Image Source="images/reset.png" />
                </Button>
            </StackPanel>
        </StackPanel>

        <!--  Side panel  -->
        <Border BorderBrush="Black" BorderThickness="0,0,1,1">
            <StackPanel
                Name="Playlist"
                Width="300"
                Height="800"
                DockPanel.Dock="Left">
                <Button
                    Name="BrowseButton"
                    Click="BrowseButton_Click"
                    Content="Browse"
                    Style="{StaticResource RectangularButton}" />

                <!--  Media list  -->
                <StackPanel Margin="0,10,0,0">
                    <ListView
                        Name="MediaListView"
                        Height="520"
                        ItemsSource="{Binding Path=MediaList}"
                        SelectionChanged="MediaListView_SelectionChanged">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Name}" />
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>
            </StackPanel>
        </Border>

        <Border BorderBrush="Black" BorderThickness="0,0,0,1">
            <StackPanel
                Width="700"
                Height="800"
                DockPanel.Dock="Right">
                <MediaElement
                    x:Name="Player"
                    LoadedBehavior="Manual"
                    MediaOpened="Player_MediaOpened" />
            </StackPanel>
        </Border>
    </DockPanel>
</Window>